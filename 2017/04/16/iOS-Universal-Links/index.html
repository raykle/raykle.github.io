<!doctype html>




<html class="theme-next pisces">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="CFliRf8EyUUCkt7WkHHt4x-C--i6srFlGofqpXi6oZE" />




  <meta name="baidu-site-verification" content="TrwBv9csqA" />







  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  
    
      
    

    
  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="iOS," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.png?v=5.0.1" />






<meta name="description" content="åœ¨ 2015 å¹´è‹¹æœ WWDC ä¸Šï¼Œè‹¹æœå®£å¸ƒäº† Universal Links è¿™é¡¹æ–°æŠ€æœ¯ï¼Œå®ç°äº†åœ¨ iOS 9 åŠä¹‹åçš„ç³»ç»Ÿä¸Šï¼Œåœ¨åªåšå°‘é‡é¢å¤–å¼€å‘çš„æ¡ä»¶ä¸‹ï¼Œä¸åŒ App ä¹‹é—´èƒ½å¤Ÿç›´æ¥ã€é¡ºç•…ã€æ— ç¼è¡”æ¥çš„è·³è½¬ï¼Œè®©ç”¨æˆ·ä½“éªŒåˆæå‡äº†ä¸€ä¸ªçº§åˆ«ï¼">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS Universal Links">
<meta property="og:url" content="http://raykle.coding.me/2017/04/16/iOS-Universal-Links/index.html">
<meta property="og:site_name" content="Ray çš„æŠ€æœ¯åšå®¢">
<meta property="og:description" content="åœ¨ 2015 å¹´è‹¹æœ WWDC ä¸Šï¼Œè‹¹æœå®£å¸ƒäº† Universal Links è¿™é¡¹æ–°æŠ€æœ¯ï¼Œå®ç°äº†åœ¨ iOS 9 åŠä¹‹åçš„ç³»ç»Ÿä¸Šï¼Œåœ¨åªåšå°‘é‡é¢å¤–å¼€å‘çš„æ¡ä»¶ä¸‹ï¼Œä¸åŒ App ä¹‹é—´èƒ½å¤Ÿç›´æ¥ã€é¡ºç•…ã€æ— ç¼è¡”æ¥çš„è·³è½¬ï¼Œè®©ç”¨æˆ·ä½“éªŒåˆæå‡äº†ä¸€ä¸ªçº§åˆ«ï¼">
<meta property="og:image" content="http://raykle.coding.me/media/790890-40795a68e8fe351f.jpg">
<meta property="og:image" content="http://raykle.coding.me/media/14920951359976.jpg">
<meta property="og:image" content="http://raykle.coding.me/media/IMG_1036.PNG">
<meta property="og:image" content="http://raykle.coding.me/media/Apple%20Universal%20Links%20Work%20Flow.png">
<meta property="og:image" content="http://raykle.coding.me/media/QQ20170414-023032@2x.png">
<meta property="og:image" content="http://raykle.coding.me/media/716949-1755979ce9d20f91.jpeg">
<meta property="og:image" content="http://raykle.coding.me/media/IMG_1105.PNG">
<meta property="og:image" content="http://raykle.coding.me/media/IMG_1107.PNG">
<meta property="og:updated_time" content="2017-04-16T18:37:47.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS Universal Links">
<meta name="twitter:description" content="åœ¨ 2015 å¹´è‹¹æœ WWDC ä¸Šï¼Œè‹¹æœå®£å¸ƒäº† Universal Links è¿™é¡¹æ–°æŠ€æœ¯ï¼Œå®ç°äº†åœ¨ iOS 9 åŠä¹‹åçš„ç³»ç»Ÿä¸Šï¼Œåœ¨åªåšå°‘é‡é¢å¤–å¼€å‘çš„æ¡ä»¶ä¸‹ï¼Œä¸åŒ App ä¹‹é—´èƒ½å¤Ÿç›´æ¥ã€é¡ºç•…ã€æ— ç¼è¡”æ¥çš„è·³è½¬ï¼Œè®©ç”¨æˆ·ä½“éªŒåˆæå‡äº†ä¸€ä¸ªçº§åˆ«ï¼">
<meta name="twitter:image" content="http://raykle.coding.me/media/790890-40795a68e8fe351f.jpg">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: 14057453,
      author: 'Author'
    }
  };
</script>

  <title> iOS Universal Links | Ray çš„æŠ€æœ¯åšå®¢ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?cae43af16865b3356fe8a1c89dd88f5c";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Ray çš„æŠ€æœ¯åšå®¢</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Never taking more than you give.</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th-list"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                iOS Universal Links
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-04-16T23:11:32+08:00" content="2017-04-16">
              2017-04-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/04/16/iOS-Universal-Links/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/04/16/iOS-Universal-Links/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2017/04/16/iOS-Universal-Links/" class="leancloud_visitors" data-flag-title="iOS Universal Links">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•° </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>iOS 9 ä»¥å‰ï¼Œä»å¤–éƒ¨å¯åŠ¨ App éƒ½æ˜¯é€šè¿‡ <code>URL Scheme</code> å®ç°è·³è½¬çš„ã€‚è¿™ç§æ–¹å¼è™½ç„¶å¯è‡ªå®šç¨‹åº¦å¾ˆé«˜ï¼Œèƒ½å¤Ÿå·§å¦™åœ°å®ç°å¾ˆå¤šè·³è½¬ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨å¾ˆå¤šå¼Šç«¯ã€‚</p>
<p>åœ¨ 2015 å¹´è‹¹æœ WWDC ä¸Šï¼Œè‹¹æœå®£å¸ƒäº† <code>Universal Links</code> è¿™é¡¹æ–°æŠ€æœ¯ï¼Œå®ç°äº†åœ¨ iOS 9 åŠä¹‹åçš„ç³»ç»Ÿä¸Šï¼Œåœ¨åªåšå°‘é‡é¢å¤–å¼€å‘çš„æ¡ä»¶ä¸‹ï¼Œä¸åŒ App ä¹‹é—´èƒ½å¤Ÿç›´æ¥ã€é¡ºç•…ã€æ— ç¼è¡”æ¥çš„è·³è½¬ï¼Œè®©ç”¨æˆ·ä½“éªŒåˆæå‡äº†ä¸€ä¸ªçº§åˆ«ï¼</p>
<hr>
<h2 id="URL-Scheme-VS-Universal-Links"><a href="#URL-Scheme-VS-Universal-Links" class="headerlink" title="URL Scheme  VS  Universal Links"></a>URL Scheme  VS  Universal Links</h2><h3 id="URL-schemes"><a href="#URL-schemes" class="headerlink" title="URL schemes"></a>URL schemes</h3><p>éå¸¸æœ‰æ•ˆï¼Œèƒ½å¤Ÿè®© app ä¹‹é—´å½¼æ­¤äº¤æµï¼Œä¼ é€’æ•°æ®ã€‚</p>
<h4 id="ç¼ºé™·"><a href="#ç¼ºé™·" class="headerlink" title="ç¼ºé™·"></a>ç¼ºé™·</h4><ul>
<li>éœ€è¦æå‰åŠ å…¥åˆ°ç™½åå•ï¼Œä¸”ä¼šè¯¢é—®ç”¨æˆ·â€œæ˜¯å¦æ‰“å¼€â€˜xxxâ€™åº”ç”¨â€ã€‚</li>
<li>ä¸ä¼šæ€»èƒ½æ˜ å°„åˆ°æ­£ç¡®çš„ appï¼Œä¸¤ä¸ª app å¯èƒ½æ‹¥æœ‰åŒæ ·çš„ schemeï¼Œè€Œå¼€å‘è€…ä¸èƒ½æ˜ç¡®åœ°è¡¨ç¤ºä»–ä»¬æŒ‡çš„æ˜¯é‚£ä¸ª appã€‚</li>
<li>app æ²¡æœ‰å®‰è£…çš„æ—¶å€™ä¸èƒ½å·¥ä½œã€‚</li>
<li>ä¸èƒ½æœ‰æ•ˆåœ°ä¿æŠ¤ç”¨æˆ·éšç§ã€‚app éœ€è¦æŸ¥æ˜æ˜¯å¦å·²ç»è¢«å®‰è£…åœ¨è®¾å¤‡ä¸Šï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥å—…æ¢å‡ºç”¨æˆ·æ˜¯å¦å®‰è£…äº†æŸäº› appï¼Œè€Œè¿™æœ¬åº”å±äºç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€‚</li>
</ul>
<hr>
<h3 id="Universal-Links"><a href="#Universal-Links" class="headerlink" title="Universal Links"></a>Universal Links</h3><p>Universal Links æ˜¯è‹¹æœåœ¨ 2015 å¹´ WWDC ä¸Šæ¨å‡ºçš„ä¸€é¡¹æ–°åŠŸèƒ½ï¼Œå®˜æ–¹åŠŸèƒ½æè¿°å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>In iOS 9 and later, universal links let users open your app when they tap links to your website within WKWebView and UIWebView views and Safari pages, in addition to links that result in a call to openURL:, such as those that occur in Mail, Messages, and other apps.</p>
</blockquote>
<p>å³å½“ç”¨æˆ·åœ¨ WKWebViewã€UIWebView æˆ–è€… Safari ä¸­ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼Œå¦‚æœè®¾å¤‡ä¸Šå®‰è£…äº†é€‚é…è¯¥é“¾æ¥çš„ appï¼Œå°±å¯ä»¥è·³è½¬è¯¥ app å¯¹åº”çš„é¡µé¢ï¼Œå¦åˆ™ä»ç„¶å±•ç¤ºç½‘é¡µ ã€‚<br>ç”±äºç›®å‰å¾®ä¿¡å†…ç½®æµè§ˆå™¨ä¸æ”¯æŒ openURL çš„æ–¹å¼è¿›è¡Œåº”ç”¨é—´çš„è·³è½¬ï¼Œä¸å°‘ app éƒ½æ˜¯é€šè¿‡æ¥å…¥ Universal Links å®ç°å¾®ä¿¡æµè§ˆå™¨ä¸€é”®è·³è½¬åˆ°è‡ªå·± app çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ç½‘æ˜“æ–°é—»ï¼ŒçŸ¥ä¹ç­‰ã€‚</p>
<h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p>ç›¸æ¯”äº Custom URL Schemeï¼Œå®˜æ–¹æ–‡æ¡£ä¸­ç»™å‡ºäº†å‡ ä¸ªä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>Unique.</strong> Unlike custom URL schemes, universal links canâ€™t be claimed by other apps, because they use standard HTTP or HTTPS links to your website.</li>
<li><strong>Secure.</strong> When users install your app, iOS checks a file that youâ€™ve uploaded to your web server to make sure that your website allows your app to open URLs on its behalf. Only you can create and upload this file, so the association of your website with your app is secure.</li>
<li><strong>Flexible.</strong> Universal links work even when your app is not installed. When your app isnâ€™t installed, tapping a link to your website opens the content in Safari, as users expect.</li>
<li><strong>Simple.</strong> One URL works for both your website and your app.</li>
<li><strong>Private.</strong> Other apps can communicate with your app without needing to know whether your app is installed.</li>
</ul>
<p>å³ï¼š</p>
<ul>
<li><strong>ç‹¬ç‰¹æ€§</strong> ä¸è‡ªå®šä¹‰çš„URLé“¾æ¥ç›¸æ¯”,é€šç”¨é“¾æ¥ä¸èƒ½è¢«å…¶ä»–çš„åº”ç”¨ç¨‹åºæ‰€è®¿é—®ï¼Œå› ä¸ºå®ƒä»¬ä½¿ç”¨æ ‡å‡†çš„ HTTP æˆ– HTTPS é“¾æ¥åˆ°æ‚¨çš„ç½‘ç«™ã€‚</li>
<li><strong>å®‰å…¨æ€§</strong> å½“ç”¨æˆ·å®‰è£…æ‚¨çš„åº”ç”¨ç¨‹åºæ—¶ï¼ŒiOS ä¼šæ£€æŸ¥æ‚¨å·²ä¸Šä¼ åˆ° Web æœåŠ¡å™¨çš„æ–‡ä»¶ï¼Œä»¥ç¡®ä¿æ‚¨çš„ç½‘ç«™å…è®¸æ‚¨çš„ app ä»£è¡¨å…¶æ‰“å¼€ URL (ç‚¹å‡»ä¸€ä¸ª URL é“¾æ¥æ—¶ï¼Œç›´æ¥æ‰“å¼€ç›¸åº” app)ã€‚ åªæœ‰æ‚¨å¯ä»¥åˆ›å»ºå’Œä¸Šä¼ æ­¤æ–‡ä»¶ï¼Œå› æ­¤æ‚¨çš„ç½‘ç«™ä¸æ‚¨çš„åº”ç”¨ç¨‹åºçš„å…³è”æ˜¯å®‰å…¨çš„ã€‚</li>
<li><strong>çµæ´»æ€§</strong> å³ä½¿æ²¡æœ‰å®‰è£… appï¼ŒUniversal links ä¹Ÿå¯ä»¥æ­£å¸¸å·¥ä½œã€‚ å½“æ²¡æœ‰å®‰è£… app æ—¶ï¼Œç‚¹å‡»ä¸€ä¸ªæŒ‡å‘æ‚¨ç½‘ç«™çš„é“¾æ¥ï¼Œä¼šæŒ‰ç…§ç”¨æˆ·çš„æœŸæœ›åœ¨ Safari ä¸­æ‰“å¼€ã€‚</li>
<li><strong>ç®€å•æ€§</strong> é€šç”¨é“¾æ¥åŒæ—¶é€‚ç”¨äºä½ çš„ç½‘ç«™å’Œ appã€‚</li>
<li><strong>ç§æœ‰æ€§</strong> å…¶ä»–åº”ç”¨ç¨‹åºå¯ä»¥ä¸æ‚¨çš„åº”ç”¨ç¨‹åºé€šä¿¡ï¼Œè€Œæ— éœ€çŸ¥é“æ‚¨çš„åº”ç”¨ç¨‹åºæ˜¯å¦å·²å®‰è£…ã€‚</li>
</ul>
<h4 id="ç¼ºé™·-1"><a href="#ç¼ºé™·-1" class="headerlink" title="ç¼ºé™·"></a>ç¼ºé™·</h4><ul>
<li>è‡³å°‘ iOS 9 ä»¥ä¸Šçš„ç³»ç»Ÿæ‰æ”¯æŒ ULã€‚</li>
</ul>
<hr>
<h2 id="UL-å¼€å‘æµç¨‹"><a href="#UL-å¼€å‘æµç¨‹" class="headerlink" title="UL å¼€å‘æµç¨‹"></a>UL å¼€å‘æµç¨‹</h2><h3 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h3><ul>
<li>ä¸€ä¸ª HTTPS çš„åå°åŸŸå</li>
<li>å¯ä»¥ä¸Šä¼ ä¸€ä¸ª JSON æ–‡ä»¶åˆ°æœåŠ¡å™¨çš„æƒé™</li>
<li>iOS 9 at least</li>
<li>Xcode 7 at least</li>
</ul>
<h3 id="iOS-ç«¯"><a href="#iOS-ç«¯" class="headerlink" title="iOS ç«¯"></a>iOS ç«¯</h3><h4 id="1-æ·»åŠ -Associated-Domain"><a href="#1-æ·»åŠ -Associated-Domain" class="headerlink" title="1. æ·»åŠ  Associated Domain"></a>1. æ·»åŠ  Associated Domain</h4><p>åœ¨å¼€å‘è€…ç½‘ç«™æ‰¾åˆ°æƒ³è¦å¼€å¯ UL çš„ App IDï¼ˆ<code>Account -&gt; Certificates, Identifiers &amp; Profiles -&gt; App IDs -&gt; YourAppId</code>ï¼‰ï¼Œç‚¹å‡» <code>Edit</code> è¿›å…¥ç¼–è¾‘é¡µé¢ï¼Œæ‰¾åˆ° <code>Associated Domains</code> å°†å¯¹åº”çš„å¤é€‰æ¡†é€‰ä¸­ï¼Œç„¶åç‚¹å‡» <code>Done</code> å°±å¯ä»¥äº†ã€‚</p>
<p><img src="media/790890-40795a68e8fe351f.jpg" alt="Associated Domains in developer.apple.com"></p>
<blockquote>
<p>å¦‚æœæœ‰å¯¹åº”çš„ <code>Provision Profiles</code>ï¼Œè®°å¾—ç‚¹å‡» <code>Edit</code>ï¼Œé‡æ–° <code>Generate</code>ï¼Œå¹¶ <code>Download</code> æ›´æ–°åˆ° <code>Xcode</code> ä¸­ã€‚</p>
</blockquote>
<p>ç„¶åï¼Œåœ¨ <code>Xcode</code> ä¸­ï¼Œ<code>TARGETS -&gt; YourTarget -&gt; Capabilities -&gt; Associated Domains</code>ï¼Œæ‰“å¼€æ­¤åŠŸèƒ½å¼€å…³ã€‚<br>ç‚¹å‡» <code>+</code> æ·»åŠ éœ€è¦æ”¯æŒè·³è½¬çš„ <code>domain</code>ï¼Œéœ€è¦ä»¥ <code>applinks:</code> ä¸ºå‰ç¼€ï¼›åŒæ—¶å¯ä»¥æ·»åŠ ä¸€äº›å­åŸŸåã€‚æ¯”å¦‚ï¼š<code>applinks:www.example.com</code>ï¼Œ<code>applinks:news.example.com</code> ç­‰ã€‚</p>
<p><img src="media/14920951359976.jpg" alt="Associated Domains in Xcode"></p>
<p><strong><em>Tips:</em></strong><br>åšå®Œä¸Šé¢è¿™äº›æ­¥éª¤ï¼Œä½ çš„ app å°†èƒ½å¤Ÿä»ä½ æŒ‡å®šçš„è¿™äº›åŸŸåè¯·æ±‚ä¸€ä¸ªç‰¹æ®Šçš„ <code>JSON</code> æ–‡ä»¶ï¼š<code>apple-app-site-association</code>ã€‚å½“ä½  <strong>ç¬¬ä¸€æ¬¡å®‰è£…ï¼Œæˆ–è€…ç‰ˆæœ¬æ›´æ–°</strong> çš„æ—¶å€™ï¼Œè®¾å¤‡å°†ä»æŒ‡å®šçš„åŸŸåè¯·æ±‚æ–‡ä»¶ï¼š<code>https://www.example.com/.well-known/apple-app-site-association</code>ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¯·æ±‚ï¼š<code>https://www.example.com/apple-app-site-association</code>ã€‚</p>
<h4 id="2-åˆ›å»º-apple-app-site-association-æ–‡ä»¶"><a href="#2-åˆ›å»º-apple-app-site-association-æ–‡ä»¶" class="headerlink" title="2. åˆ›å»º apple-app-site-association æ–‡ä»¶"></a>2. åˆ›å»º apple-app-site-association æ–‡ä»¶</h4><p>æ ¼å¼åŠå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "applinks" : &#123;</span><br><span class="line">    "apps" : [],</span><br><span class="line">    "details" : [</span><br><span class="line">      //å¦‚æœæœ‰ä¸æ­¢ä¸€ä¸ª appï¼Œæˆ–è€… app æœ‰å¤šç§ç¯å¢ƒï¼ˆæ¯”å¦‚ï¼šdevï¼Œproï¼‰ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ•°ç»„ä¸­æ·»åŠ å¤šä¸ªå…ƒç´ ã€‚</span><br><span class="line">      &#123;</span><br><span class="line">        //appID: App Prefix(Team ID) + Bundle ID</span><br><span class="line">        "appID" : "ABCDE12345.com.apple.wwdc",</span><br><span class="line">        "paths" : [</span><br><span class="line">          //è·¯å¾„æ•°ç»„ï¼šå‘ŠçŸ¥æˆ‘ä»¬ ç½‘ç«™çš„å“ªéƒ¨åˆ†å¯ä»¥é€šè¿‡ app æ”¯æŒã€‚</span><br><span class="line">          //å¦‚æœæ•´ä¸ªç½‘ç«™éƒ½å¯ä»¥é€šè¿‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ `*`ã€‚</span><br><span class="line">          "*", //å…¨éƒ¨ç½‘ç«™éƒ½æ”¯æŒ</span><br><span class="line">          "/wwdc/news/", //`å®Œå…¨åŒ¹é…`</span><br><span class="line">          "/videos/wwdc/2015/*" // `è·¯å¾„å‰ç¼€`</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        "appID" : "HIJKL67890.com.apple.wwdc",</span><br><span class="line">        "paths" : [</span><br><span class="line">          //"?" è¡¨ç¤ºæ›¿æ¢è·¯å¾„ä¸­çš„ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">          "/foo/*/bar/201?/mypage",</span><br><span class="line">          // æ”¯æŒä½¿ç”¨ `NOT` å…³é”®å­—ï¼ŒæŒ‡å®šä¸ä½œä¸ºé€šç”¨é“¾æ¥å¤„ç†çš„åŒºåŸŸ</span><br><span class="line">          "NOT /path/to/exclude"</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong><br><code>appID</code> ç”±å¼€å‘è€…è´¦å·çš„ <code>Team ID</code> å’Œ app çš„ <code>Bundle ID</code> æ„æˆã€‚<br><code>paths</code> æ˜¯<code>å¤§å°å†™æ•æ„Ÿ</code>çš„ï¼å…¶ä»– URL ç»„ä»¶æ¯”å¦‚ <code>query</code>ï¼Œ<code>fragment</code> åˆ™ä¸æ˜¯ã€‚</p>
<p>æ­¤æ–‡ä»¶åå¿…é¡»ä¸º <code>apple-app-site-association</code>ï¼Œä¸èƒ½æœ‰åç¼€ã€‚</p>
<p>å¿…é¡»ä¸ºæ¯ä¸€ä¸ªä½ çš„ app æ”¯æŒçš„æ‹¥æœ‰ç‹¬ç«‹å†…å®¹çš„ <code>domain</code> åˆ›å»ºå•ç‹¬çš„ <code>apple-app-site-association</code> æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>apple.com</code> å’Œ <code>developer.apple.com</code>ï¼Œéœ€è¦å•ç‹¬çš„ <code>apple-app-site-association</code> æ–‡ä»¶ï¼Œå› ä¸ºè¿™äº›åŸŸåæä¾›ä¸åŒçš„æœåŠ¡ã€‚</p>
</blockquote>
<h4 id="3-iOS-å®ç°ä»£ç "><a href="#3-iOS-å®ç°ä»£ç " class="headerlink" title="3. iOS å®ç°ä»£ç "></a>3. iOS å®ç°ä»£ç </h4><p>åœ¨ <code>AppDelegate.m</code> ä¸­å®ç°å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://developer.apple.com/videos/play/wwdc2015/509/</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application continueUserActivity:(<span class="built_in">NSUserActivity</span> *)userActivity restorationHandler:(<span class="keyword">void</span> (^)(<span class="built_in">NSArray</span> * _Nullable))restorationHandler &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> ([userActivity.activityType isEqualToString:<span class="built_in">NSUserActivityTypeBrowsingWeb</span>]) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">NSURL</span> *webUrl = userActivity.webpageURL;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (![<span class="keyword">self</span> presentUrl:webUrl]) &#123;</span><br><span class="line">            <span class="comment">// å½“è·³è½¬åˆ° app ä¸èƒ½è·³è½¬åˆ°ç›¸åº”çš„ç•Œé¢æ—¶ï¼Œè‹¹æœå»ºè®®ä¼˜é›…åœ°è§£å†³è¿™ç§é”™è¯¯ï¼Œ</span></span><br><span class="line">            <span class="comment">// å³ï¼šä½¿ç”¨ Safari æ‰“å¼€è¯¥é“¾æ¥ï¼Œé¿å… app ä¸­å¯èƒ½å‡ºç°ç©ºç™½ç•Œé¢ç­‰å¼‚å¸¸æƒ…å†µã€‚</span></span><br><span class="line">            [[<span class="built_in">UIApplication</span> sharedApplication] openURL:webUrl];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)presentUrl:(<span class="built_in">NSURL</span> *)url &#123;</span><br><span class="line">    <span class="built_in">NSURLComponents</span> *urlComponents = [<span class="built_in">NSURLComponents</span> componentsWithURL:url resolvingAgainstBaseURL:<span class="literal">YES</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">NSString</span> *host = urlComponents.host;</span><br><span class="line">    <span class="built_in">NSArray</span> *pathComponent = urlComponents.path.pathComponents;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­¤å¤„æ ¹æ®ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> ([host isEqualToString:<span class="string">@"www.example.com"</span>]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (pathComponent.count &gt; <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="comment">//<span class="doctag">TODO:</span> Do some router here.</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-ä»è®¤å¯çš„è¯ä¹¦ç­¾å‘æœºæ„è·å–-SSL-è¯ä¹¦"><a href="#4-ä»è®¤å¯çš„è¯ä¹¦ç­¾å‘æœºæ„è·å–-SSL-è¯ä¹¦" class="headerlink" title="4. ä»è®¤å¯çš„è¯ä¹¦ç­¾å‘æœºæ„è·å– SSL è¯ä¹¦"></a>4. ä»è®¤å¯çš„è¯ä¹¦ç­¾å‘æœºæ„è·å– SSL è¯ä¹¦</h4><h4 id="5-ç­¾å-JSON-æ–‡ä»¶"><a href="#5-ç­¾å-JSON-æ–‡ä»¶" class="headerlink" title="5. ç­¾å JSON æ–‡ä»¶"></a>5. ç­¾å JSON æ–‡ä»¶</h4><p>ä½¿ç”¨ä¸Šä¸€æ­¥çš„ SSL è¯ä¹¦å¯¹ JSON æ–‡ä»¶è¿›è¡Œç­¾åã€‚éœ€è¦æ˜¯ç”¨ Mac ç»ˆç«¯çš„ <code>openssl smime</code> å‘½ä»¤ã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">openssl smime \</span><br><span class="line">  -sign \</span><br><span class="line">  -nodetach \</span><br><span class="line">  -<span class="keyword">in</span> <span class="string">"unsigned.json"</span> \ <span class="comment"># JSON file æ–‡ä»¶åï¼ˆæœªç­¾åçš„ JSON æ–‡ä»¶ï¼‰</span></span><br><span class="line">  -out <span class="string">"apple-app-site-association"</span> \ <span class="comment"># è¿™é‡Œçš„åç§°å¿…é¡»å®Œå…¨åŒ¹é…</span></span><br><span class="line">  -outform DER \</span><br><span class="line">  -inkey <span class="string">"private-key.pem"</span> \ <span class="comment"># è¯ä¹¦ç”ŸæˆæœŸé—´ç”Ÿæˆçš„ç§é’¥</span></span><br><span class="line">  -signer <span class="string">"certificate.pem"</span> <span class="comment"># è¯ä¹¦ç­¾å‘æœºæ„æä¾›çš„è¯ä¹¦</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>iOS 9 Beta 2 ç‰ˆæœ¬å¼€å§‹ï¼Œ<strong><em>ğŸ‘‰ ä¸å†éœ€è¦æ­¤ç­¾åæ­¥éª¤ ğŸ‘ˆ</em></strong>ï¼Œåªéœ€è¦ä¸Šä¼ æœªç­¾åè¿‡çš„ <code>apple-app-site-association</code> æ–‡ä»¶åˆ° <code>HTTPS</code> æœåŠ¡å™¨å³å¯ï¼ŒiOS ä¼šå¤„ç†å…¶ä½™å·¥ä½œã€‚</p>
</blockquote>
<hr>
<h3 id="Server-ç«¯"><a href="#Server-ç«¯" class="headerlink" title="Server ç«¯"></a>Server ç«¯</h3><blockquote>
<p>Upload it to the root of your HTTPS web server. The file needs to be accessible via HTTPSâ€”without any redirectsâ€”at <a href="https:///apple-app-site-association" target="_blank" rel="external">https:///apple-app-site-association</a>. Next, you need to handle universal links in your app.</p>
</blockquote>
<p>å°† <code>apple-app-site-association</code> æ–‡ä»¶å­˜æ”¾åœ¨æœåŠ¡å™¨è·Ÿç›®å½•ï¼Œæˆ–è€…æ ¹ç›®å½•çš„ <code>.well-known</code> ç›®å½•ä¸‹ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.example.com/.well-known/apple-app-site-association</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å»ºè®®å­˜æ”¾äº <code>.well-known</code> ç›®å½•ä¸‹ï¼Œä»¥å‡å°‘è®¿é—®æ¬¡æ•°ï¼Œå› ä¸ºè®¾å¤‡ä¼šä¼˜å…ˆè¯·æ±‚ <code>.well-known</code> ç›®å½•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæ‰ä¼šå»æ ¹ç›®å½•ä¸‹è¯·æ±‚ã€‚</p>
<p><strong><em>æ³¨æ„ï¼š</em></strong><br><code>apple-app-site-association</code> æ–‡ä»¶çš„è®¿é—®å¿…é¡»ä¸æ”¯æŒé‡å®šå‘ã€‚<br>æœåŠ¡å™¨ä¸Š <code>apple-app-site-association</code> çš„æ›´æ–°ä¸ä¼šè®© iOS æœ¬åœ°çš„ <code>apple-app-site-association</code> åŒæ­¥æ›´æ–°ï¼Œå³ iOS åªä¼šåœ¨ App ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶è¯·æ±‚ä¸€æ¬¡ï¼Œä»¥åé™¤é App æ›´æ–°æˆ–é‡æ–°å®‰è£…å¦åˆ™ä¸ä¼šåœ¨æ¯æ¬¡æ‰“å¼€æ—¶è¯·æ±‚ <code>apple-app-site-association</code>ã€‚</p>
</blockquote>
<hr>
<h3 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h3><h4 id="Smart-App-Banner"><a href="#Smart-App-Banner" class="headerlink" title="Smart App Banner"></a>Smart App Banner</h4><h5 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h5><p><code>Smart App Banner</code> æ˜¯åœ¨ <code>Safari</code> ä¸­æµ®åŠ¨åœ¨é¡µé¢é¡¶ç«¯çš„ä¸€ä¸ª <code>Banner</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹ç½‘é¡µæ— ä¾µå…¥çš„ UI å…ƒç´ ï¼Œå¯ä»¥åœ¨ <code>Safari</code> è‡ªåŠ¨å‘ˆç°ã€‚</p>
<p>å¦‚æœç”¨æˆ·æœªå®‰è£… appï¼Œç‚¹å‡»è‡ªåŠ¨è·³è½¬åˆ° App Store çš„ä¸‹è½½é¡µã€‚å¦‚æœå·²å®‰è£…ï¼Œåˆ™ä¼šè‡ªåŠ¨å¯åŠ¨ç›¸åº”çš„ appã€‚</p>
<p><img src="media/IMG_1036.PNG" alt="Smart App Banner in zhihu.com"></p>
<h5 id="è®©ç½‘é¡µæ”¯æŒ-Smart-App-Banner-çš„æ˜¾ç¤º"><a href="#è®©ç½‘é¡µæ”¯æŒ-Smart-App-Banner-çš„æ˜¾ç¤º" class="headerlink" title="è®©ç½‘é¡µæ”¯æŒ Smart App Banner çš„æ˜¾ç¤º"></a>è®©ç½‘é¡µæ”¯æŒ Smart App Banner çš„æ˜¾ç¤º</h5><p>åœ¨ç½‘ç«™çš„ <code>head</code> æ ‡ç­¾ä¸­æ·»åŠ ä¸€ä¸ª <code>meta</code> çš„æ ‡ç­¾ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-itunes-app"</span> <span class="attr">content</span>=<span class="string">"app-id=123456789, app-argument=https://developer.apple.com/wwdc/schedule, affiliate-data=optionalAffiliateData"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>name=&quot;apple-itunes-app&quot;</code> ä¼šå‘Šè¯‰ Safari ä½ æƒ³è¦æ˜¾ç¤º <code>Smart App Banner</code>ã€‚<br><code>content</code> åŒ…å« <code>app-id</code>ï¼Œ<code>app id</code> æ˜¯æ¯ä¸ª app åœ¨ <code>iTunesConnect</code> ç½‘ç«™åˆ›å»ºä¹‹åï¼Œè·å–åˆ°çš„ä¸€ä¸ª <code>id</code>ã€‚æ­¤å¤„çš„åŠŸèƒ½æ˜¯ï¼šSafari ä¼šé€šè¿‡æ­¤ <code>id</code> å‘ <code>App Store</code> æŠ“å– app çš„ä¿¡æ¯æ˜¾ç¤ºåœ¨ <code>Smart App Banner</code> ä¸­ï¼ŒåŒ…æ‹¬ app åç§°ï¼Œå‚å•†ç­‰ã€‚å½“ç”¨æˆ·æ²¡æœ‰å®‰è£…ç›¸åº”çš„ app æ—¶ï¼Œç‚¹å‡»ä¹‹åä¼šæ ¹æ®æ­¤ <code>id</code> è·³è½¬åˆ° <code>App Store</code> è¿›å…¥ç›¸åº”çš„ä¸‹è½½é¡µã€‚<br><code>app-argument</code> å±æ€§åº”è¯¥åŒ…æ‹¬å½“å‰æ˜¾ç¤ºé¡µé¢çš„ <code>URL</code>ï¼Œæˆ–è€…è‡ªå®šä¹‰çš„ä¸€äº›å‚æ•°ç­‰ï¼Œå½“ç”¨æˆ·ç‚¹å‡» <code>Banner</code> æ‰“å¼€ appï¼Œæ­¤å‚æ•°å€¼ä¼šè¢«ä¼ é€’åˆ° iOS çš„<br><code>-application:continueUserActivity:restorationHandler:</code><br>æ–¹æ³•ä¸­ï¼Œé€šè¿‡ <code>userActivity.webpageURL</code> å¯ä»¥è·å–åˆ°ã€‚</p>
<p>å¯ä»¥é€šè¿‡æ‰’å–åˆ«äººçš„ç½‘é¡µä»£ç ï¼Œçœ‹çœ‹ä¸€äº›å…¶ä»–å¤§å…¬å¸çš„ä¾‹å­ã€‚<br>æ¯”å¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//ç½‘æ˜“æ–°é—»</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">â€‹</span>"<span class="attr">apple-itunes-app</span>" <span class="attr">content</span>=<span class="string">â€‹</span>"<span class="attr">app-id</span>=<span class="string">425349261,</span> <span class="attr">affiliate-data</span>=<span class="string">myAffiliateData,</span> <span class="attr">app-argument</span>=<span class="string">newsapp:â€‹/â€‹/â€‹doc/â€‹CHLFGFCB00097U7S?â€‹s</span>=<span class="string">sps_article</span>"&gt;</span>â€‹</span><br><span class="line"></span><br><span class="line">//çŸ¥ä¹ï¼š</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">â€‹</span>"<span class="attr">apple-itunes-app</span>" <span class="attr">content</span>=<span class="string">â€‹</span>"<span class="attr">app-id</span>=<span class="string">432274380,</span> <span class="attr">app-argument</span>=<span class="string">zhihu:â€‹/â€‹/â€‹answers/â€‹154659733</span>" <span class="attr">data-react-helmet</span>=<span class="string">â€‹</span>"<span class="attr">true</span>"&gt;</span>â€‹</span><br><span class="line"></span><br><span class="line">//å¤šçœ‹</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">â€‹</span>"<span class="attr">apple-itunes-app</span>" <span class="attr">content</span>=<span class="string">â€‹</span>"<span class="attr">app-id</span>=<span class="string">517850153,</span> <span class="attr">app-argument</span>=<span class="string">duokan-reader:â€‹/â€‹/â€‹store/â€‹book/â€‹09d88212e38611e18f0200163e0123ac</span>"&gt;</span>â€‹</span><br></pre></td></tr></table></figure>
<p><em>å¯ä»¥å…³æ³¨ä¸€ä¸‹ï¼Œè¿™äº›ä»£ç ä¸­ <code>app-argument</code> çš„å€¼çš„å†™æ³•ã€‚</em></p>
<p><code>Smart App Banner</code> åœ¨æ¨¡æ‹Ÿå™¨ä¸­ä¹Ÿä¼šå‡ºç°ï¼Œä½†æ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªç©ºç™½çš„ <code>Banner</code>ï¼Œapp åç§°ç­‰ä¿¡æ¯ä¸ä¼šæ˜¾ç¤ºã€‚</p>
<blockquote>
<p><em>æ¸©é¦¨æç¤ºï¼š</em><br>å¦‚æœä¸€ä¸ªç½‘ç«™çš„åŸŸåæ˜¯è¢« iOS å¼€å‘äººå‘˜é…ç½®åœ¨äº† <code>Associated Domains</code> ä¸­çš„ï¼Œä¸”åœ¨è¯¥åŸŸåä¸Šä¼ äº† <code>apple-app-site-association</code> çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆå½“ä¸€å° iOS è®¾å¤‡å®‰è£…äº†ç›¸åº”çš„ app ä¹‹åï¼Œåœ¨ <code>Safari</code> æµè§ˆå™¨æ‰“å¼€è¯¥åŸŸåä¸‹çš„ç½‘å€ï¼Œåˆ™ä¼šè‡ªåŠ¨æ˜¾ç¤º <code>Smart App Banner</code>ï¼Œç½‘é¡µä¸ç”¨åšä»»ä½•é¢å¤–å¼€å‘ï¼ŒåŒ…æ‹¬æ·»åŠ  <code>meta</code> æ ‡ç­¾ã€‚ä½†æ˜¯è¿™ç§æƒ…å†µæœ‰ä¸€ä¸ª <strong>ç¼ºç‚¹</strong>ï¼Œå°±æ˜¯å¦‚æœæ²¡æœ‰å®‰è£…ç›¸åº”çš„ appï¼Œåˆ™ <code>Smart App Banner</code> ä¸ä¼šæ˜¾ç¤ºã€‚</p>
<p>å¦‚æœæƒ³è¦ <strong>æ—¶åˆ»æ˜¾ç¤º</strong> <code>Smart App Banner</code>ï¼Œåˆ™å‰ç«¯å¼€å‘äººå‘˜å¿…é¡»æ‰‹åŠ¨æ·»åŠ  <code>meta</code> æ ‡ç­¾ã€‚</p>
</blockquote>
<p>å½“å‰ç«¯å¼€å‘æ‰‹åŠ¨æ·»åŠ äº† <code>meata</code> æ ‡ç­¾ï¼Œåˆ™åœ¨ç½‘é¡µä¸­æ˜¾ç¤ºçš„ <code>banner</code> å·¦è¾¹ä¼šæœ‰ä¸€ä¸ª <code>X</code> æŒ‰é’®ï¼Œå…è®¸ç”¨æˆ·å…³é—­æ‰è¿™ä¸ª <code>banner</code>ï¼Œè€Œä¸€æ—¦ç”¨æˆ·å…³é—­äº†ï¼Œåˆ™åœ¨è¿™ä¸ªç½‘ç«™ä¸Šå°±ä¸ä¼šå†æ˜¾ç¤ºäº†ï¼Œå³ä¾¿é‡æ–°åŠ è½½ç½‘é¡µä¹Ÿä¸€æ ·ã€‚</p>
<p>ç›®å‰å”¯ä¸€èƒ½å¤Ÿè®© <code>Smart App Banner</code> å†æ¬¡æ˜¾ç¤ºçš„æ–¹æ³•å°±æ˜¯ <strong>è¿˜åŸæ‰€æœ‰è®¾ç½®</strong> ï¼ˆè®¾ç½® -&gt; é€šç”¨ -&gt; è¿˜åŸ -&gt; è¿˜åŸæ‰€æœ‰è®¾ç½®ï¼‰ã€‚å…·ä½“è¯·æŸ¥çœ‹ <a href="https://www.raywenderlich.com/80347/smart-app-banners-tutorial" target="_blank" rel="external">raywenderlich - Smart App Banners Tutorial</a> å’Œ <a href="https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/PromotingAppswithAppBanners/PromotingAppswithAppBanners.html" target="_blank" rel="external">Apple - Promoting Apps with Smart App Banners</a></p>
<h4 id="è‡ªå®šä¹‰é“¾æ¥æ”¯æŒ-UL-è·³è½¬"><a href="#è‡ªå®šä¹‰é“¾æ¥æ”¯æŒ-UL-è·³è½¬" class="headerlink" title="è‡ªå®šä¹‰é“¾æ¥æ”¯æŒ UL è·³è½¬"></a>è‡ªå®šä¹‰é“¾æ¥æ”¯æŒ UL è·³è½¬</h4><p>å¦‚æœæƒ³è¦åœ¨ç½‘é¡µä¸­æ”¯æŒè‡ªå®šä¹‰ UL è·³è½¬ï¼Œæ¯”å¦‚åœ¨åº•éƒ¨æµ®åŠ¨ä¸€ä¸ª <code>banner</code> ï¼Œä¸Šé¢æ˜¾ç¤º <code>æ‰“å¼€ App</code>ï¼Œåœ¨å®‰è£…äº†ç›¸åº”çš„ app çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæƒ³è¦è¾¾åˆ°ç‚¹å‡»è¿™ä¸ªé“¾æ¥è‡ªåŠ¨è·³è½¬åˆ°è¯¥ app çš„ç›®çš„ï¼Œæ­¤æ—¶è¿™ä¸ª <code>banner</code> çš„è·³è½¬é“¾æ¥å¿…é¡»æ˜¯ä¹‹å‰ <code>Xcode</code> ä¸­é…ç½®çš„ <code>Associated Domains</code> ä¸­åŸŸåä¸‹çš„é“¾æ¥ã€‚</p>
<h5 id="è·¨åŸŸæ¡ä»¶"><a href="#è·¨åŸŸæ¡ä»¶" class="headerlink" title="* è·¨åŸŸæ¡ä»¶"></a>* è·¨åŸŸæ¡ä»¶</h5><p>æƒ³è¦è¾¾åˆ°è‡ªå®šä¹‰è·³è½¬çš„ç›®çš„ï¼Œå¿…é¡»æ»¡è¶³ <strong>è·¨åŸŸ</strong> çš„æ¡ä»¶ï¼Œä¸¾ä¾‹å‡è®¾å½“å‰ Safari æˆ–è€…å¾®ä¿¡æµè§ˆå™¨ä¸­ç½‘é¡µé“¾æ¥ä¸º <code>www.baidu.com/XXX/YYY</code>ï¼Œåº•éƒ¨â€œæ‰“å¼€Appâ€æŒ‰é’®å¯¹åº”çš„é“¾æ¥URLä¸º <code>www.baidu.com/AAA/BBB</code>ï¼Œç”±äºä¸¤è€…éƒ½åœ¨ç™¾åº¦çš„åŸŸåä¸‹ï¼Œå› æ­¤å®é™…ä¸èƒ½å®Œæˆè·³è½¬åˆ° appã€‚</p>
<h5 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h5><p>ç”±äºå¯¹å‰ç«¯å¼€å‘ä¸ç†Ÿï¼Œæ‰€ä»¥æ²¡æ€ä¹ˆç ”ç©¶ï¼Œè¿™é‡Œæä¾›ä¸¤ä¸ªå‰ç«¯ä½¿ç”¨ UL çš„å‚è€ƒé“¾æ¥ã€‚</p>
<p><a href="https://juejin.im/post/57b6ba9f128fe10054bb5401" target="_blank" rel="external">æµè§ˆå™¨ä¸­å”¤èµ·native app || è·³è½¬åˆ°åº”ç”¨å•†åŸä¸‹è½½ï¼ˆä¸€ï¼‰</a><br><a href="https://juejin.im/post/57bd1c3079bc440063b38f9d" target="_blank" rel="external">æµè§ˆå™¨ä¸­å”¤èµ·native app || è·³è½¬åˆ°åº”ç”¨å•†åŸä¸‹è½½ï¼ˆäºŒï¼‰ ä¹‹ universal links</a></p>
<hr>
<h2 id="æ³¨æ„ç‚¹åŠæ€»ç»“"><a href="#æ³¨æ„ç‚¹åŠæ€»ç»“" class="headerlink" title="æ³¨æ„ç‚¹åŠæ€»ç»“"></a>æ³¨æ„ç‚¹åŠæ€»ç»“</h2><h3 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h3><ol>
<li>iOS 9.3 ä¹‹åå¿…é¡»è·¨åŸŸæ‰èƒ½æ”¯æŒ UL è·³è½¬ã€‚</li>
<li>æœåŠ¡ç«¯å¿…é¡»æ˜¯ HTTPSã€‚</li>
<li><code>apple-app-site-association</code> æ–‡ä»¶çš„è®¿é—®å¿…é¡»ä¸æ”¯æŒé‡å®šå‘ã€‚</li>
</ol>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ”¾ä¸€å¼ è‡ªå·±æ€»ç»“çš„ç®€å•çš„ UL å·¥ä½œæµç¨‹å›¾ï¼Œæ–¹ä¾¿ç†è§£è·Ÿå›é¡¾ï¼š</p>
<p><img src="media/Apple%20Universal%20Links%20Work%20Flow.png" alt="Apple Universal Links Work Flow"></p>
<hr>
<h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><h3 id="åŸŸåéªŒè¯"><a href="#åŸŸåéªŒè¯" class="headerlink" title="åŸŸåéªŒè¯"></a>åŸŸåéªŒè¯</h3><p>è‹¹æœå®˜æ–¹æä¾›äº†ç½‘å€éªŒè¯å·¥å…·ï¼š<a href="https://search.developer.apple.com/appsearch-validation-tool/" target="_blank" rel="external">App Search API Validation Tool</a><br>ç”¨äºéªŒè¯ UL çš„æ¡ä»¶æœ‰æ²¡æœ‰æ»¡è¶³ï¼š</p>
<ol>
<li>æœåŠ¡å™¨åå°æ­£ç¡®ä¸Šä¼ äº† <code>apple-app-site-association</code> æ–‡ä»¶ã€‚</li>
<li>iOS ç«¯å¼€å¯ä¸”æ­£ç¡®é…ç½®äº† <code>Associated Domains</code>ã€‚</li>
</ol>
<p>å½“éªŒè¯é€šè¿‡ï¼Œä½†æ˜¯ä½ çš„ app è¿˜æ²¡æœ‰å‘å¸ƒåˆ° App Store æ—¶æ˜¾ç¤ºçš„ç»“æœæ˜¯ï¼š<br><img src="media/QQ20170414-023032@2x.png" alt=""></p>
<p>å¦‚æœ app å·²ç»å‘å¸ƒï¼Œä¸”éªŒè¯é€šè¿‡ï¼Œåˆ™æ˜¾ç¤ºçš„æ˜¯ PASSED çŠ¶æ€ï¼š<br><img src="media/716949-1755979ce9d20f91.jpeg" alt=""></p>
<h3 id="ç¬¬ä¸‰æ–¹æ”¯æŒ-UL-è·³è½¬çš„-APP-å¹³å°"><a href="#ç¬¬ä¸‰æ–¹æ”¯æŒ-UL-è·³è½¬çš„-APP-å¹³å°" class="headerlink" title="ç¬¬ä¸‰æ–¹æ”¯æŒ UL è·³è½¬çš„ APP/å¹³å°"></a>ç¬¬ä¸‰æ–¹æ”¯æŒ UL è·³è½¬çš„ APP/å¹³å°</h3><p>éå®Œæ•´ç‰ˆ : )</p>
<table>
<thead>
<tr>
<th style="text-align:center">App Name</th>
<th style="text-align:center">æ˜¯å¦æ”¯æŒ UL è·³è½¬</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">å¾®åš</td>
<td style="text-align:center">âœ”ï¸</td>
</tr>
<tr>
<td style="text-align:center">å¾®ä¿¡</td>
<td style="text-align:center">âœ”ï¸</td>
</tr>
<tr>
<td style="text-align:center">Safari</td>
<td style="text-align:center">âœ”ï¸</td>
</tr>
<tr>
<td style="text-align:center">QQ</td>
<td style="text-align:center">âœ”ï¸</td>
</tr>
<tr>
<td style="text-align:center">æ‰‹æœºç™¾åº¦</td>
<td style="text-align:center">âœ”ï¸</td>
</tr>
<tr>
<td style="text-align:center">UC æµè§ˆå™¨</td>
<td style="text-align:center">âœ”ï¸</td>
</tr>
<tr>
<td style="text-align:center">æ”¯ä»˜å®</td>
<td style="text-align:center">âœ”ï¸</td>
</tr>
<tr>
<td style="text-align:center">QQ æµè§ˆå™¨</td>
<td style="text-align:center">âœ—</td>
</tr>
<tr>
<td style="text-align:center">Chrome æµè§ˆå™¨</td>
<td style="text-align:center">âœ—</td>
</tr>
<tr>
<td style="text-align:center">â€¦</td>
<td style="text-align:center">â€¦</td>
</tr>
</tbody>
</table>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>å½“åœ¨ Safari æˆ–è€…ç¬¬ä¸‰æ–¹åˆ†äº«çš„å¹³å°ä¸­ç‚¹å‡» UL é“¾æ¥æ‰“å¼€ app åï¼Œä¼šåœ¨ app å³ä¸Šè§’çœ‹åˆ°ç±»ä¼¼ <code>example.com</code> çš„ç®­å¤´æŒ‡ç¤ºï¼Œå¦‚æœç‚¹å‡»å®ƒä¼šè·³è½¬åˆ° <code>Safari</code> æ‰“å¼€ä¹‹å‰ç‚¹å‡»çš„é“¾æ¥ï¼ŒåŒæ—¶ç³»ç»Ÿä¼šè®¤ä¸ºä½ é€‰æ‹©ä½¿ç”¨ <code>Safari</code> æ‰“å¼€è¯¥åŸŸåçš„é“¾æ¥ï¼Œè€Œä¸æ˜¯ appã€‚é‚£ä¹ˆä¸‹æ¬¡ä½ å†ç‚¹å‡»è¯¥é“¾æ¥ï¼Œå®ƒåªä¼šåœ¨ <code>Safari</code> é‡Œé¢åŠ è½½è¯¥é“¾æ¥ã€‚é‚£ä¹ˆå¦‚ä½•å†æ¬¡å¼€å¯ app è·³è½¬å‘¢ï¼Ÿåœ¨ <code>Safari</code> é¡µé¢ä¸­ï¼Œæ‰‹æŒ‡å¾€ä¸‹æ‹‰åŠ¨æ˜¾ç¤ºå‡º <code>Smart App Banner</code>ï¼Œç‚¹å‡»å³ä¾§çš„ <code>æ‰“å¼€</code> æŒ‰é’®ï¼Œå°±ä¼šè·³è½¬åˆ° appï¼Œæ­¤æ—¶ç³»ç»Ÿå°±ä¼šè®¤ä¸ºä½ é€‰æ‹©ä½¿ç”¨ app è·³è½¬ï¼Œä¸‹æ¬¡å†æ¬¡ç‚¹å‡»é“¾æ¥æ—¶ä¹Ÿä¼šç›´æ¥è·³è½¬åˆ° app äº†ã€‚</p>
<p><img src="media/IMG_1105.PNG" alt="-w300"> <img src="media/IMG_1107.PNG" alt="-w300"></p>
<h3 id="å‚è€ƒé“¾æ¥-1"><a href="#å‚è€ƒé“¾æ¥-1" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><ul>
<li><p>iOS:<br>  <a href="https://developer.apple.com/library/content/documentation/General/Conceptual/AppSearch/UniversalLinks.html" target="_blank" rel="external">https://developer.apple.com/library/content/documentation/General/Conceptual/AppSearch/UniversalLinks.html</a><br>  <a href="https://developer.apple.com/videos/play/wwdc2015/509/" target="_blank" rel="external">https://developer.apple.com/videos/play/wwdc2015/509/</a></p>
<p>  <a href="http://www.jianshu.com/p/c2ca5b5f391f" target="_blank" rel="external">http://www.jianshu.com/p/c2ca5b5f391f</a><br>  <a href="http://www.jianshu.com/p/d1e0c1886046" target="_blank" rel="external">http://www.jianshu.com/p/d1e0c1886046</a><br>  <a href="http://www.jianshu.com/p/aeca84ea2624" target="_blank" rel="external">http://www.jianshu.com/p/aeca84ea2624</a></p>
<p>  <a href="http://stackoverflow.com/questions/35609667/how-to-support-universal-links-in-ios-app-and-setup-server-for-it/35609668#35609668" target="_blank" rel="external">http://stackoverflow.com/questions/35609667/how-to-support-universal-links-in-ios-app-and-setup-server-for-it/35609668#35609668</a><br>  <a href="http://stackoverflow.com/questions/32751225/ios9-universal-links-does-not-work" target="_blank" rel="external">http://stackoverflow.com/questions/32751225/ios9-universal-links-does-not-work</a></p>
<p>  <a href="http://blog.hokolinks.com/how-to-implement-apple-universal-links-on-ios-9/" target="_blank" rel="external">HOKO - Breaking down iOS 9 Universal Links</a></p>
</li>
<li><p>Android:<br>  <a href="http://blog.hokolinks.com/android-m-app-links-implementation-drawbacks/" target="_blank" rel="external">HOKO - Android M App Links: implementation, drawbacks and solutions</a></p>
</li>
<li><p>å‰ç«¯:<br>  <a href="https://juejin.im/post/57b6ba9f128fe10054bb5401" target="_blank" rel="external">æµè§ˆå™¨ä¸­å”¤èµ·native app || è·³è½¬åˆ°åº”ç”¨å•†åŸä¸‹è½½ï¼ˆä¸€ï¼‰</a><br>  <a href="https://juejin.im/post/57bd1c3079bc440063b38f9d" target="_blank" rel="external">æµè§ˆå™¨ä¸­å”¤èµ·native app || è·³è½¬åˆ°åº”ç”¨å•†åŸä¸‹è½½ï¼ˆäºŒï¼‰ ä¹‹ universal links</a></p>
</li>
</ul>
<hr>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/iOS/" rel="tag"><i class="fa fa-tag"></i>&nbsp;&nbsp;iOS</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/03/ä½¿ç”¨-Moco-è½»æ¾æ­å»ºæµ‹è¯•æœåŠ¡å™¨/" rel="next" title="ä½¿ç”¨ Moco è½»æ¾æ­å»ºæµ‹è¯•æœåŠ¡å™¨">
                <i class="fa fa-chevron-left"></i> ä½¿ç”¨ Moco è½»æ¾æ­å»ºæµ‹è¯•æœåŠ¡å™¨
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2017/04/16/iOS-Universal-Links/"
     data-title="iOS Universal Links"
     data-content=""
     data-url="http://raykle.coding.me/2017/04/16/iOS-Universal-Links/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">åˆ†äº«åˆ°ï¼š</a></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">å¾®åš</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQç©ºé—´</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">è…¾è®¯å¾®åš</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">å¾®ä¿¡</a></li>

    </ul>
    <div class="ds-share-icons-more">
    </div>
  </div>
</div>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/04/16/iOS-Universal-Links/"
           data-title="iOS Universal Links" data-url="http://raykle.coding.me/2017/04/16/iOS-Universal-Links/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/avatar.JPG"
               alt="Raykle" />
          <p class="site-author-name" itemprop="name">Raykle</p>
          <p class="site-description motion-element" itemprop="description">(â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">6</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/raykle" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://coding.net/u/raykle" target="_blank" title="Coding">
                  
                    <i class="fa fa-fw fa-code"></i>
                  
                  Coding
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/raykle" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#èƒŒæ™¯"><span class="nav-number">1.</span> <span class="nav-text">èƒŒæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#URL-Scheme-VS-Universal-Links"><span class="nav-number">2.</span> <span class="nav-text">URL Scheme  VS  Universal Links</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#URL-schemes"><span class="nav-number">2.1.</span> <span class="nav-text">URL schemes</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¼ºé™·"><span class="nav-number">2.1.1.</span> <span class="nav-text">ç¼ºé™·</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Universal-Links"><span class="nav-number">2.2.</span> <span class="nav-text">Universal Links</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¼˜ç‚¹"><span class="nav-number">2.2.1.</span> <span class="nav-text">ä¼˜ç‚¹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ç¼ºé™·-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">ç¼ºé™·</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UL-å¼€å‘æµç¨‹"><span class="nav-number">3.</span> <span class="nav-text">UL å¼€å‘æµç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å‡†å¤‡"><span class="nav-number">3.1.</span> <span class="nav-text">å‡†å¤‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iOS-ç«¯"><span class="nav-number">3.2.</span> <span class="nav-text">iOS ç«¯</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-æ·»åŠ -Associated-Domain"><span class="nav-number">3.2.1.</span> <span class="nav-text">1. æ·»åŠ  Associated Domain</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-åˆ›å»º-apple-app-site-association-æ–‡ä»¶"><span class="nav-number">3.2.2.</span> <span class="nav-text">2. åˆ›å»º apple-app-site-association æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-iOS-å®ç°ä»£ç "><span class="nav-number">3.2.3.</span> <span class="nav-text">3. iOS å®ç°ä»£ç </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-ä»è®¤å¯çš„è¯ä¹¦ç­¾å‘æœºæ„è·å–-SSL-è¯ä¹¦"><span class="nav-number">3.2.4.</span> <span class="nav-text">4. ä»è®¤å¯çš„è¯ä¹¦ç­¾å‘æœºæ„è·å– SSL è¯ä¹¦</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-ç­¾å-JSON-æ–‡ä»¶"><span class="nav-number">3.2.5.</span> <span class="nav-text">5. ç­¾å JSON æ–‡ä»¶</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Server-ç«¯"><span class="nav-number">3.3.</span> <span class="nav-text">Server ç«¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å‰ç«¯"><span class="nav-number">3.4.</span> <span class="nav-text">å‰ç«¯</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Smart-App-Banner"><span class="nav-number">3.4.1.</span> <span class="nav-text">Smart App Banner</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ä»‹ç»"><span class="nav-number">3.4.1.1.</span> <span class="nav-text">ä»‹ç»</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#è®©ç½‘é¡µæ”¯æŒ-Smart-App-Banner-çš„æ˜¾ç¤º"><span class="nav-number">3.4.1.2.</span> <span class="nav-text">è®©ç½‘é¡µæ”¯æŒ Smart App Banner çš„æ˜¾ç¤º</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è‡ªå®šä¹‰é“¾æ¥æ”¯æŒ-UL-è·³è½¬"><span class="nav-number">3.4.2.</span> <span class="nav-text">è‡ªå®šä¹‰é“¾æ¥æ”¯æŒ UL è·³è½¬</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#è·¨åŸŸæ¡ä»¶"><span class="nav-number">3.4.2.1.</span> <span class="nav-text">* è·¨åŸŸæ¡ä»¶</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#å‚è€ƒé“¾æ¥"><span class="nav-number">3.4.2.2.</span> <span class="nav-text">å‚è€ƒé“¾æ¥</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ³¨æ„ç‚¹åŠæ€»ç»“"><span class="nav-number">4.</span> <span class="nav-text">æ³¨æ„ç‚¹åŠæ€»ç»“</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ³¨æ„ç‚¹"><span class="nav-number">4.1.</span> <span class="nav-text">æ³¨æ„ç‚¹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ€»ç»“"><span class="nav-number">4.2.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¡¥å……"><span class="nav-number">5.</span> <span class="nav-text">è¡¥å……</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#åŸŸåéªŒè¯"><span class="nav-number">5.1.</span> <span class="nav-text">åŸŸåéªŒè¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¬¬ä¸‰æ–¹æ”¯æŒ-UL-è·³è½¬çš„-APP-å¹³å°"><span class="nav-number">5.2.</span> <span class="nav-text">ç¬¬ä¸‰æ–¹æ”¯æŒ UL è·³è½¬çš„ APP/å¹³å°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å…¶ä»–"><span class="nav-number">5.3.</span> <span class="nav-text">å…¶ä»–</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å‚è€ƒé“¾æ¥-1"><span class="nav-number">5.4.</span> <span class="nav-text">å‚è€ƒé“¾æ¥</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"><a href="/">Raykle</a></span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

<script>
(function(){
    /*ç™¾åº¦ç½‘é¡µæŠ“å–-è‡ªåŠ¨æ¨é€*/
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"raykle"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js"></script>
    
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("FODbO6udo9aWmkqGpwtowl1Y-gzGzoHsz", "8GfbNbDyrb911zgzGf7g2UpF");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement("script");
    var curProtocol = window.location.protocol.split(":")[0];
    if (curProtocol === "https") {
        bp.src = "https://zz.bdstatic.com/linksubmit/push.js";        
    }
    else {
        bp.src = "http://push.zhanzhang.baidu.com/push.js";
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>



</body>
</html>
